<!DOCTYPE html>
<html>

<head>
        <title>Saving and Loading</title>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<script src="navigation.js"></script>
</head>

<body>
<div class="contentBox" id="contentBox">
        <h1>Saving and Loading using API</h1>
        <p class="text"><br>GeoGebra resources can be saved into and loaded from
        <a class="inlineLink" href="https://en.wikipedia.org/wiki/Base64">Base64</a> format.</p>

        <script type="text/javascript" src="https://cdn.geogebra.org/apps/deployggb.js"></script>
        <script type="text/javascript">

                var parameters = {
                        "width":550,
                        "height":245,
                        "showToolBar":false,
                        "borderColor":null,
                        "showMenuBar":false,
                        "showAlgebraInput":false,
                        "customToolbar":"0 || 1",
                        "showResetIcon":true,
                        "enableLabelDrags":false,
                        "enableShiftDragZoom":true,
                        "enableRightClick":false,
                        "capturingThreshold":null,
                        "showToolBarHelp":true,
                        "errorDialogsActive":true,
                        "useBrowserForJS":false,
                        "material_id":"ztq4xfyj"};
                var applet = new GGBApplet(parameters, '5.0');
                 //  when used with Math Apps Bundle, uncomment this:
                 //  applet.setHTML5Codebase('GeoGebra/HTML5/5.0/web/');
                window.onload = function() { applet.inject('applet_container'); }
 
                function saveGgbFile(){ ggbApplet.getBase64(function(b){document.getElementById("Base64").value = b}); }
                function loadGgbFile(){ ggbApplet.setBase64(document.getElementById("Base64").value); }
        </script>

        <div id="applet_container"></div>
		<p  class="text"><br>
        Move points A, B, C and press <b>Save</b>. Then move the points again. <br>Press <b>Load</b> to load the previously saved construction.
        </p>
        <p>
            <a class="appBtn noimage blue" href="javascript:saveGgbFile()">Save</a>
            <a class="appBtn noimage blue" href="javascript:loadGgbFile()">Load</a>
        </p>


        <p class="text"><br>To make this example self-contained, saving to a server was replaced by a textfield below. <br>In a real setting, the content of the following textfield will be stored in a database or file on the server:</p>
        <textarea name="Base64" id="Base64" class="inputfield" cols=75 rows=8></textarea>
</div>
</body>

</html>
